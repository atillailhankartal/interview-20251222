# =============================================================================
# Traefik - Static Configuration
# =============================================================================

api:
  dashboard: true
  insecure: true

entryPoints:
  web:
    address: ":80"
  websecure:
    address: ":443"

providers:
  docker:
    endpoint: "unix:///var/run/docker.sock"
    exposedByDefault: false
    network: brokage-network
  file:
    directory: "/etc/traefik/dynamic"
    watch: true

log:
  level: INFO
  format: json

accessLog:
  format: json
  fields:
    headers:
      defaultMode: keep
      names:
        Authorization: redact
        X-Api-Key: redact

metrics:
  prometheus:
    addEntryPointsLabels: true
    addRoutersLabels: true
    addServicesLabels: true

tracing:
  otlp:
    grpc:
      endpoint: "lgtm:4317"
      insecure: true
